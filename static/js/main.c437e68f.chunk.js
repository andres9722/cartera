(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,a,t){},107:function(e,a,t){},110:function(e,a,t){},113:function(e,a,t){},118:function(e,a,t){},212:function(e,a,t){},214:function(e,a,t){},216:function(e,a,t){},218:function(e,a,t){},220:function(e,a,t){},229:function(e,a,t){},236:function(e,a,t){},238:function(e,a,t){},240:function(e,a,t){},242:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(23),c=t.n(l),o=(t(85),t(245)),m=t(243),i=t(246),s=t(247),u=function(e){var a=e.children;return r.a.createElement("div",{className:"l-container"},a)},d=function(){return r.a.createElement(u,null,r.a.createElement("h1",null,"Error 404 - page not found"))},E=t(13),f=t(70),p=t(71),b=t(78),h=t(72),v=t(79),g=t(9),O=t.n(g),N=(t(51),t(27),{apiKey:"AIzaSyDFxhH23f1hl4H3hvx1TlDOVepYiE34Vp4",authDomain:"cartera-6f442.firebaseapp.com",databaseURL:"https://cartera-6f442.firebaseio.com",projectId:"cartera-6f442",storageBucket:"",messagingSenderId:"641914629584",appId:"1:641914629584:web:2d5b64fdacb881c80c1dd5",measurementId:"G-NLV67NE481"}),j=function(e){var a=e.email,t=e.password;return(new O.a.auth).createUserWithEmailAndPassword(a,t)},S=function(){return O.a.auth().signOut()},w=Object(n.createContext)({}),C=function(e){function a(){var e,t;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(b.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={auth:!1,user:null,error:null,loading:!1},t.onLogin=function(e){j(e).then(function(){t.setState({loading:!1,auth:!0})}).catch(function(e){t.setState({loading:!1,error:e})})},t.onSignOut=function(){S().then(function(){t.setState({auth:!1,user:null})}).catch(function(e){t.setState({error:e})})},t}return Object(v.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.removeListener=O.a.auth().onAuthStateChanged(function(a){a?e.setState({auth:!0,loading:!1,user:a}):e.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.removeListener()}},{key:"render",value:function(){return r.a.createElement(w.Provider,{value:Object(E.a)({},this.state,{onLogin:this.onLogin,onSignOut:this.onSignOut})},this.props.children)}}]),a}(n.Component),y=w.Consumer,_=t(244),k=(t(97),function(){return r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"menu"},r.a.createElement("li",{className:"menu__item"},r.a.createElement(_.a,{to:"/dashboard",className:"menu__link",activeClassName:"menu__link--active"},"Inicio")),r.a.createElement("li",{className:"menu__item"},r.a.createElement(_.a,{to:"/cobros",className:"menu__link",activeClassName:"menu__link--active"},"Cobros Juridicos"))))}),x=t(4),I=(t(104),function(e){var a=e.children,t=e.theme,n=e.onClick,l=e.disabled;return r.a.createElement("button",{disabled:l,onClick:n,className:"button ".concat(t||"")},a)}),D=(t(107),function(){var e=Object(n.useContext)(w).onSignOut,a=Object(n.useState)(!1),t=Object(x.a)(a,2),l=t[0],c=t[1];return r.a.createElement("aside",{className:"aside"},r.a.createElement("div",{className:"aside__profile"},r.a.createElement("img",{className:"aside__profile-image",src:"https://www.misemacau.org/wp-content/uploads/2015/11/avatar-placeholder-01-300x250.png",alt:"avatar",onClick:function(){return c(!l)}}),l&&r.a.createElement("div",{className:"aside__profile-menu"},r.a.createElement(I,{onClick:function(){return e()}},"Salir"))))}),T=(t(110),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container l-container"},r.a.createElement(k,null),r.a.createElement(D,null)))}),L=(t(113),function(e){e.photoURL;var a=e.displayName,t=e.email;return r.a.createElement("div",{className:"profile"},r.a.createElement("img",{className:"profile__avatar",src:"https://www.misemacau.org/wp-content/uploads/2015/11/avatar-placeholder-01-300x250.png",alt:"avatar"}),r.a.createElement("p",{className:"profile__username"},a),r.a.createElement("p",{className:"profile__email"},t))}),M=t(46),R=t(24),A=t.n(R),B=(t(118),t(47)),q=(t(212),t(103)),F=(t(214),function(e){var a=e.handleCloseModal,t=e.model;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("button",{onClick:a,className:"modal-close"},"X"),r.a.createElement("h2",null,"Acciones recomendadas"),r.a.createElement("p",null,"Nombre del cliente: ",t.name),r.a.createElement("div",{className:"option"},r.a.createElement("b",null,"Llamar al: ")," ",r.a.createElement("span",null,t.phone)),r.a.createElement("div",{className:"option"},r.a.createElement("b",null,"Enviar correo a:")," ",r.a.createElement("span",null,t.email)),r.a.createElement(q.a,{to:{pathname:"/cobro",query:t}},"Cobro juridico")))}),H=r.a.memo(function(e){var a=e.pieData,t=e.barData,l=e.phones,c=e.clients,o=e.emails,m=Object(n.useState)(!1),i=Object(x.a)(m,2),s=i[0],u=i[1],d=Object(n.useState)({}),E=Object(x.a)(d,2),f=E[0],p=E[1];return r.a.createElement("div",{className:"pie"},a&&r.a.createElement("div",{className:"pie-chart"},r.a.createElement("h3",{className:"pie-title"},"Informaci\xf3n relacionada a valor de deuda"),r.a.createElement(B.b,{height:100,data:a})),t&&r.a.createElement("div",{className:"pie-chart"},r.a.createElement("h3",{className:"pie-title"},"Informaci\xf3n relacionada con los d\xedas de mora"),r.a.createElement(B.a,{onElementsClick:function(e){if(!e[0])return null;var a=e[0]._model,t=a.label;if(!a)return null;var n=c.findIndex(function(e){return e===t}),r={phone:l[n],name:t,email:o[n]};u(!s),p(r)},height:100,data:t})),s&&r.a.createElement(F,{model:f,handleCloseModal:function(e){u(!1)}}))}),Y=function(e){var a=e.handleInputChange;return r.a.createElement("div",{className:"button-wrapper"},r.a.createElement("span",{className:"label"},"Subir archivo"),r.a.createElement("input",{type:"file",name:"excel",id:"excel",className:"upload-box",placeholder:"Upload File",onChange:a}))},P=function(){var e=Object(n.useState)(),a=Object(x.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(),o=Object(x.a)(c,2),m=o[0],i=o[1],s=Object(n.useState)(),u=Object(x.a)(s,2),d=u[0],E=u[1],f=Object(n.useState)(),p=Object(x.a)(f,2),b=p[0],h=p[1],v=Object(n.useState)(),g=Object(x.a)(v,2),O=g[0],N=g[1],j=Object(n.useState)(),S=Object(x.a)(j,2),w=S[0],C=S[1],y=Object(n.useState)(),_=Object(x.a)(y,2),k=_[0],I=_[1];r.a.useEffect(function(){window.localStorage.setItem("rows",JSON.stringify(t)),window.localStorage.setItem("cols",JSON.stringify(m))},[t,m]);return r.a.createElement("div",null,r.a.createElement(Y,{handleInputChange:function(e){var a=e.target.files[0];Object(M.ExcelRenderer)(a,function(e,a){if(e)console.log(e);else{l(a.rows),i(a.cols);for(var t=a.rows.map(function(e){var a=A()(e[9],"DD-MM-YYYY"),t=A()(e[10],"DD-MM-YYYY"),n=A.a.duration(t.diff(a)).asDays();return-1*n>=90?-1*(90+n):0}),n=a.rows.map(function(e){return e[3]}),r=a.rows.map(function(e){return e[8]}),c=a.rows.map(function(e){return e[6]}),o=a.rows.map(function(e){return e[7]}),m=[],s=0;s<n.length;s+=1)m.push("#"+Math.random().toString(16).substr(-6));n.splice(0,1),c.splice(0,1),r.splice(0,1),t.splice(0,1),o.splice(0,1);var u={labels:n,datasets:[{label:"D\xedas de mora",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:t}]};E({labels:n,datasets:[{data:r,backgroundColor:m}]}),h(u),N(c),C(n),I(o)}})}}),t&&m&&r.a.createElement(M.OutTable,{data:t,columns:m,tableClassName:"table",tableHeaderRowClass:"heading"}),d&&b&&r.a.createElement(H,{phones:O,clients:w,pieData:d,barData:b,emails:k}))},V=(t(216),function(){var e=Object(n.useContext)(w).user;return r.a.createElement(n.Fragment,null,r.a.createElement(T,null),r.a.createElement(u,null,r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"dashboard-profile"},r.a.createElement(L,e)),r.a.createElement(P,null))))}),G=t(74),J=t.n(G),U=(t(218),t(75)),W=t.n(U),z=function(){var e=Object(n.useContext)(w),a=e.onLogin,t=e.error,l=Object(n.useRef)();Object(n.useEffect)(function(){return W.a.init(l.current,{max:5,speed:200,glare:!0,"max-glare":.25}),function(){return l.current.vanillaTilt.destroy()}},[]);return r.a.createElement("div",{className:"login"},r.a.createElement("div",{ref:l,className:"login__tilt"},r.a.createElement("img",{className:"login__image",src:J.a,alt:"Login background"})),r.a.createElement("div",{className:"login-aside"},r.a.createElement("form",{className:"login-form",onSubmit:function(e){e.preventDefault();var t=e.target,n={email:t.email.value,password:t.password.value};a(n)}},r.a.createElement("h3",null,"Iniciar sesi\xf3n"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Correo",required:!0}),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Contrasena",required:!0}),r.a.createElement(I,{type:"submit",theme:"login__button"},"Entrar"),t&&t.message&&r.a.createElement("p",{style:{color:"red"}},t.message)),r.a.createElement("div",{className:"login-comments"},r.a.createElement("h3",null,"Comentarios de visitas"),r.a.createElement(q.a,{to:"/comments"},"Agregar y ver comentarios del servicio"))))},K=(t(220),t(10)),X=(t(45),t(17)),Q=t.n(X),Z=function(e){var a=e.location.query,t=Object(n.useState)([]),l=Object(x.a)(t,2),c=l[0],o=l[1],m=O.a.firestore();m.settings({timestampsInSnapshots:!0}),Object(n.useEffect)(function(){m.collection("cobros").orderBy("date","desc").onSnapshot(function(e){var a=[];e.forEach(function(e){a.push(Object(E.a)({},e.data(),{id:e.id})),i(a)})})},[]);var i=function(e){var t=e.filter(function(e){return e.name===a.name});o(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(u,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target,t={date:Date.now(),name:a.name.value,email:a.email.value,phone:a.phone.value,lawyer:a.lawyer.value};m.collection("cobros").add(t).then(function(e){Object(K.b)("Cobro guardado correctamente!",{position:K.b.POSITION.BOTTOM_RIGHT,autoClose:2e3})}).catch(function(){K.b.error("Error guardando cobro!",{position:K.b.POSITION.BOTTOM_RIGHT})}),a.reset()}},r.a.createElement("h1",null,"Proceso de cobro juridico"),r.a.createElement("input",{type:"text",name:"name",id:"name",defaultValue:a.name,disabled:!0}),r.a.createElement("input",{type:"email",name:"email",id:"email",defaultValue:a.email,disabled:!0}),r.a.createElement("input",{type:"phone",name:"phone",id:"phone",defaultValue:a.phone,disabled:!0}),r.a.createElement("input",{type:"text",name:"lawyer",id:"lawyer",placeholder:"Abogado",required:!0}),r.a.createElement(I,{type:"submit",theme:"login__button"},"Confirmar")),r.a.createElement("div",{className:"cobro"},r.a.createElement("h3",null,"Listado de cobros"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Tel\xe9fono"),r.a.createElement("th",null,"Abogado"),r.a.createElement("th",null,"Fecha"))),r.a.createElement("tbody",null,c&&c.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.lawyer),r.a.createElement("td",null,r.a.createElement(Q.a,{date:e.date})))})))),r.a.createElement(K.a,null)))},$=(t(229),function(e){e.location.query;var a=Object(n.useState)([]),t=Object(x.a)(a,2),l=t[0],c=t[1],o=O.a.firestore();return o.settings({timestampsInSnapshots:!0}),Object(n.useEffect)(function(){o.collection("cobros").orderBy("date","desc").onSnapshot(function(e){var a=[];e.forEach(function(e){a.push(Object(E.a)({},e.data(),{id:e.id})),c(a)})})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(u,null,r.a.createElement("div",{className:"cobro"},r.a.createElement("h3",null,"Listado de cobros"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Tel\xe9fono"),r.a.createElement("th",null,"Abogado"),r.a.createElement("th",null,"Fecha"))),r.a.createElement("tbody",null,l&&l.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.lawyer),r.a.createElement("td",null,r.a.createElement(Q.a,{date:e.date})))}))))))}),ee=t(48),ae=t.n(ee),te=(t(236),function(){var e=Object(n.useState)(0),a=Object(x.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)([]),o=Object(x.a)(c,2),m=o[0],i=o[1],s=O.a.firestore();s.settings({timestampsInSnapshots:!0}),r.a.useEffect(function(){s.collection("comments").orderBy("date","desc").onSnapshot(function(e){var a=[];e.forEach(function(e){a.push(Object(E.a)({},e.data(),{id:e.id})),i(a)})})},[]);return console.log(m),r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target,n={name:a.name.value,email:a.email.value,comment:a.comment.value,rating:t,date:Date.now()};s.collection("comments").add(n).then(function(e){Object(K.b)("comentario guardado correctamente!",{position:K.b.POSITION.BOTTOM_RIGHT,autoClose:2e3})}).catch(function(){K.b.error("Error guardando comentario!",{position:K.b.POSITION.BOTTOM_RIGHT})}),a.reset(),l(0)}},r.a.createElement("h1",null,"Agregar comentario"),r.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"Nombre",required:!0}),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Correo",required:!0}),r.a.createElement("textarea",{type:"comment",name:"comment",id:"comment",placeholder:"Comentario",required:!0}),r.a.createElement("div",{className:"stars"},r.a.createElement(ae.a,{rating:t,starRatedColor:"#ff1f5a",starHoverColor:"#ff1f5a",changeRating:function(e){l(e)},numberOfStars:5,name:"rating",starDimension:"40px",starSpacing:"5px"})),r.a.createElement(I,{type:"submit",theme:"login__button"},"Enviar")),r.a.createElement("ul",{className:"comments"},m&&m.map(function(e){return r.a.createElement("li",{className:"comments-item"},r.a.createElement(Q.a,{date:e.date}),r.a.createElement("h3",null,e.name," "),r.a.createElement("h5",null,e.email," "),r.a.createElement("p",null,"Comentario: ",e.comment," "),r.a.createElement(ae.a,{rating:t,starRatedColor:"#ff1f5a",starHoverColor:"#ff1f5a",starEmptyColor:"#ff1f5a",numberOfStars:e.rating,name:"rating",starDimension:"20px",starSpacing:"2px"}))})),r.a.createElement(K.a,null)))}),ne=function(e){var a=e.component,t=e.authed,n=e.rest;return r.a.createElement(m.a,Object.assign({},n,{render:function(e){return!0===t?r.a.createElement(a,e):r.a.createElement(i.a,{to:{pathname:"/",state:{from:e.location}}})}}))},re=function(e){var a=e.component,t=e.authed,n=e.rest;return r.a.createElement(m.a,Object.assign({},n,{render:function(e){return!1===t?r.a.createElement(a,e):r.a.createElement(i.a,{to:"/dashboard"})}}))},le=function(e){var a=e.auth;return r.a.createElement(s.a,null,r.a.createElement(re,{path:"/",exact:!0,authed:a,component:z}),r.a.createElement(re,{path:"/comments",exact:!0,authed:a,component:te}),r.a.createElement(ne,{path:"/dashboard",exact:!0,authed:a,component:V}),r.a.createElement(ne,{path:"/cobro",exact:!0,authed:a,component:Z}),r.a.createElement(ne,{path:"/cobros",exact:!0,authed:a,component:$}),r.a.createElement(m.a,{component:d}))},ce=(t(238),t(240),function(){return r.a.createElement("div",{className:"sk-cube-grid"},r.a.createElement("div",{className:"sk-cube sk-cube1"}),r.a.createElement("div",{className:"sk-cube sk-cube2"}),r.a.createElement("div",{className:"sk-cube sk-cube3"}),r.a.createElement("div",{className:"sk-cube sk-cube4"}),r.a.createElement("div",{className:"sk-cube sk-cube5"}),r.a.createElement("div",{className:"sk-cube sk-cube6"}),r.a.createElement("div",{className:"sk-cube sk-cube7"}),r.a.createElement("div",{className:"sk-cube sk-cube8"}),r.a.createElement("div",{className:"sk-cube sk-cube9"}))}),oe=function(){return r.a.createElement(C,null,r.a.createElement(y,null,function(e){var a=e.auth,t=e.loading;return r.a.createElement(n.Fragment,null,!0===t?r.a.createElement("div",{className:"loader--full"},r.a.createElement(ce,null)):r.a.createElement(o.a,null,r.a.createElement(le,{auth:a})))}))};O.a.initializeApp(N),c.a.render(r.a.createElement(oe,null),document.getElementById("root"))},74:function(e,a,t){e.exports=t.p+"static/media/loginbg.86636209.jpg"},80:function(e,a,t){e.exports=t(242)},85:function(e,a,t){},97:function(e,a,t){}},[[80,2,1]]]);
//# sourceMappingURL=main.c437e68f.chunk.js.map